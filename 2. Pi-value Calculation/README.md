## Лабораторная работа по курсу "Высокопроизводительные вычисления".<br/>
### *Расчет числа Пи с применением технологии CUDA.* <br/>
Samara University <br/>
HPC-2021

## 2. [Pi-value Calculation](https://github.com/Dark-MonkGI/Laboratory-work/blob/8da7243a5a189b13cc9937f302980dcf433fccf5/1.%20VectorSum/HPC_Vector_GPU_ILia.ipynb)

**Задача:**  Учитывая количество точек N, сгенерируйте случайное распределение в области (0, 0) - (1, 1) и вычислите число π
используя CPU и GPU. Полученные значения π должны быть распечатаны вместе со временем выполнения.<br/>
> **Task definition** <br/>
> Given the number of points N , generate a random distribution in (0, 0) − (1, 1) area and calculate the π number
>using CPU and GPU. The resulting π values should be printed out along with the execution times.<br/>

**Входные данные:** <br/>
- N - количество баллов;<br/>

**Выходные данные:** <br/>
- время выполнения программ GPU и CPU;<br/>
- Значения π, рассчитанные программами GPU и CPU (результаты могут отличаться);<br/>

Отчет о проделанной лабораторной работе - это git-репозиторий с исходным кодом.<br/>
**Язык:**  C++ или Python <br/> 


###  **Описание реализации** 

Существует много способов вычисления числа Пи. Самым простым и понятным является численный метод Монте-Карло,<br/>
суть которого сводится к простейшему перебору точек на площади.<br/>
Расчет заключается в том, что бы взять квадрат со стороной a = 2 R, вписать в него круг радиусом R. И наугад ставить точки внутри квадрата.<br/>
Геометрически, вероятность P1 того, чтот точка попадет в круг, равна отношению площадей круга и квадрата:<br/>

   `P1=Sкруг / Sквадрата = πR2 / a 2 = πR2 / (2 R ) 2= πR2 / (2 R) 2 = π / 4 (1)`

Наглядное представление:<br/>
![logo](https://habrastorage.org/getpro/habr/post_images/011/ef8/989/011ef8989001df204b33142805371d9b.gif)
> Monte Carlo method applied to approximating the value of π.

Вероятность попадания точки в круг можно также посчитать после численного эксперимента ещё проще - посчитать количество точек, попавших в круг и поделить их на общее количество поставленных точек:
P2= N-попавших в круг / N-точек;
Так, при большом количестве точек в численном эксперименте вероятности должны вести себя cледующим образом:
lim(Nточек→∞)⁡(P2-P1)=0;
Следовательно:
π / 4 = Nпопавших в круг / Nточек;
π = 4 Nпопавших в круг / Nточек; 

##  **Результаты вычислений** 
В таблице приведены результаты времени выполнения суммирования векторов, на CPU и GPU соответственно: 
 	 № |Device|Time(second)| Len_Vec | 
:-----:|:-----:|:-----:|:-----:|
0 | CPU | 0.0 | 10000 |
1 | GPU | 0.55| 10000 |
2 | CPU | 6.56 | 25000000 | 
3 | GPU | 0.08 | 25000000 |
4 | CPU | 13.11 | 50000000 |
5 | GPU | 0.16 | 50000000 |
6 | CPU | 19.58 | 75000000 |
7 | GPU | 0.21 | 75000000 |
8 | CPU | 26.35 | 100000000 |
9 | GPU | 0.26 | 100000000 |
<br/> 

 ##  **Вывод** 
 Ожидаемый результат

1. Знакомство с методами вычисления математических констант.

2. Получите базовый опыт написания программ CUDA и использования библиотеки CURAND
 
 
  Из полученных данных видно, что скорость вычисления (в данном случае сложение векторов) на GPU, с использованием CUDA выше, чем на CPU, при вычислении больших массивов значений.
  При сложении коротких векторов (пример первых вычислений) производительность падает, за счет потери ресурсов на копировании на devices. 
  Но при больших обьемах вычислений, наблюдается явный прирост производительности.<br/> 
  Использование GPUи технологии CUDA для неграфических вычислений является эффективным решением для увеличения скорости самих вычислений, и как следствие уменьшения временных и      материальных затрат.
    
    
